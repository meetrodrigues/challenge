"use strict";function createNode(e){return document.createElement(e)}function append(e,t){return e.appendChild(t)}function clickActive(e){var t=document.querySelector(e);t.addEventListener("click",function(){t.classList.toggle("active")})}function menuMobileActive(){var e=document.querySelector(".menu--mobile"),t=document.querySelector(".menu");e.addEventListener("click",function(){e.classList.toggle("active"),t.classList.toggle("active")})}function addToCartCreate(e,t){var n=createNode("span");n.setAttribute("class",t),append(e,n)}function addToCartValue(){var t=parseFloat(document.querySelector(".header__container--cart .value").textContent),n=document.querySelector(".header__container--cart .value");document.querySelectorAll(".product__list__container--cart").forEach(function(e){e.addEventListener("click",function(){t+=parseFloat(getSinblings(e)),n.textContent=Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)})})}function getSinblings(e){for(var t=[],n=e.parentNode.firstChild;n;)1===n.nodeType&&n!==e&&t.push(n),n=n.nextSibling;return parseFloat(t[2].textContent.split("R$")[1])}function verifyMobile(){var e=document.querySelector(".menu");window.innerWidth<1020?e.classList.add("is--mobile"):e.classList.remove("is--mobile")}function createShelves(){fetch("https://meetrodrigues.github.io/coreBiz/products.json").then(function(e){return e.json()}).then(function(e){var t=document.querySelector(".product__list");for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],c=r.images[0].imageUrl,o=createNode("li");o.setAttribute("class","product__list__container"),o.innerHTML='\n                    <img class="product__list__container--img" src="'+c+'">\n                    <p class="product__list__container--title">'+r.name+'</p>\n                    <p class="product__list__container--value">R$'+r.Value+' </p>\n                    <button class="product__list__container--buy"> Comprar </button>\n                    ',append(t,o),addToCartCreate(o,"product__list__container--cart")}addToCartValue()}).catch(function(e){console.log("error: ",e)})}window.addEventListener("DOMContentLoaded",function(){createShelves(),clickActive(".header__container--cart"),verifyMobile(),menuMobileActive()});